
R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

* Project '~/00projects/git/lambda-uncertainty' loaded. [renv 0.13.2]
> ########################################
> # life expectancy models without error
> # author: sebastian daza
> #######################################
> 
> # R < src/02_le_models.R > output/log/02_le_models_t.log  --no-save  &
> # R < src/02_le_models.R > output/log/02_le_models_f.log  --no-save  &
> 
> 
> # libraries, functions and options
> library(data.table)
> library(stringr)
> library(brms)
> 
> library(doParallel)
> cl = makeCluster(10, outfile="")
starting worker pid=2804253 on localhost:11780 at 04:49:41.545
starting worker pid=2804250 on localhost:11780 at 04:49:41.567
starting worker pid=2804255 on localhost:11780 at 04:49:41.569
starting worker pid=2804249 on localhost:11780 at 04:49:41.575
starting worker pid=2804256 on localhost:11780 at 04:49:41.591
starting worker pid=2804257 on localhost:11780 at 04:49:41.597
starting worker pid=2804248 on localhost:11780 at 04:49:41.599
starting worker pid=2804252 on localhost:11780 at 04:49:41.599
starting worker pid=2804254 on localhost:11780 at 04:49:41.609
starting worker pid=2804251 on localhost:11780 at 04:49:41.640
> registerDoParallel(cl)
> seed = 103231
> 
> library(texreg)
> library(ggplot2)
> source("src/utils.R")
> slackr::slackr_setup(config_file = ".slackr")
[1] "Successfully connected to Slack"
> seed = 19380302
> set.seed(seed)
> 
> # cross-validation
> K = 10 
> 
> # stacking weights
> stacking = TRUE
> 
> # f (false) or t (true)
> select_estimates = "t"
> 
> # paths
> plots_path = "output/plots/"
> tables_path = "output/tables/"
> data_path = "output/data/"
> manus_plots = "manuscript/plots"
> manus_tables  = "manuscript/tables"
> 
> # read data
> data_list = readRDS(paste0(data_path, select_estimates, "datalist.rds"))
> timps = data_list[["imputations"]]
> idat = data_list[["single-imputation"]]
> country_labs = data_list[["ctrylabels"]]
> nsamples = length(timps)
> 
> # number of imputation to consider
> nimputations = 10
> timps = timps[1:nimputations]
> 
> iterations = list(
+     "f" = list(6000, 6000, 6000, 14000, 12000, 10000),
+     "t" = list(6000, 6000, 6000, 14000, 12000, 10000)
+ )
> 
> multiResultClass = function(models = NULL, shifts_baseline = NULL, 
+     shifts_stacking = NULL) {
+     me = list(models = models, shifts_baseline = shifts_baseline, 
+     shifts_stacking = shifts_stacking)
+     class(me) = append(class(me), "multiResultClass")
+     return(me)
+ }
> 
> output = foreach(i = 1:nimputations) %dopar% {
+ 
+     results = multiResultClass()
+     library(data.table)
+     library(brms)
+     library(loo)
+     source("src/utils.R")
+     
+     models = list()
+     dat = timps[[i]]
+ 
+     bprior = c(prior(normal(0,5), class = b), 
+         prior(normal(0,5), class = Intercept))
+     models[[1]] = brm(wy_mean ~ 1 + log_gdp * year1950, data = dat, 
+         iter = iterations[[select_estimates]][[1]], 
+         chains = 1,
+         refresh = 5000,
+         warmup = 1000, 
+         prior = bprior)
+ 
+     bprior = c(prior(normal(0,5), class = b),
+         prior(normal(0,5), class = Intercept),
+         prior(cauchy(0,2.5), class = sd, group = ctry50))
+     models[[2]] = brm(wy_mean ~ log_gdp + (1 | ctry50), data = dat, 
+         iter = iterations[[select_estimates]][[2]], 
+         warmup = 1000, 
+         chains = 1,
+         refresh = 5000,
+         prior = bprior)
+ 
+     models[[3]] = brm(wy_mean ~ log_gdp + (log_gdp | ctry50), data = dat, 
+         iter = iterations[[select_estimates]][[3]], 
+         warmup = 1000, 
+         chains = 1, 
+         refresh = 5000,
+         prior = bprior)
+ 
+     # models[[4]] = brm(wy_mean ~ log_gdp + zyear + (log_gdp | ctry50), data = dat, 
+     #     iter = iterations[[select_estimates]][[4]], 
+     #     warmup = 1000, 
+     #     chains = 1,
+     #     prior = bprior)
+ 
+     bprior = c(prior(normal(0,5), class = b),
+         prior(normal(0,5), class = Intercept),
+         prior(cauchy(0,2.5), class = sd, group = ctryear))
+ 
+     models[[4]] = brm(wy_mean ~ log_gdp + (1 | ctryear), data = dat, 
+         iter = iterations[[select_estimates]][[4]], 
+         warmup = 1000, 
+         chains = 1, 
+         refresh = 5000,
+         prior = bprior)
+ 
+     models[[5]] = brm(wy_mean ~ log_gdp + (log_gdp | ctryear), data = dat, 
+         iter = iterations[[select_estimates]][[5]], 
+         warmup = 1000, 
+         chains = 1, 
+         refresh = 5000,
+         prior = bprior)
+ 
+     # models[[6]] = brm(wy_mean ~ log_gdp + zyear + (log_gdp | ctryear), data = dat, 
+     #     iter = iterations[[select_estimates]][[6]], 
+     #     warmup = 1000, 
+     #     chains = 1, 
+     #     refresh = 5000,
+     #     prior = bprior)
+ 
+     results$models = models
+ 
+     countries = unique(idat$ctry)
+     years = c(1950)
+     cyears = list(c("1950", "1950-1969"))
+     dyears = list(c("1950", "1950+"))
+ 
+     newdata = createComparisonData(dat, countries, 
+         years, cyears, dyears)
+     countries = unique(newdata$ctry)
+ 
+     results$shifts_stacking = createShifts(models, newdata, 
+         countries = countries, nsamples = 5000, K = K, stacking = stacking) 
+ 
+     results$shifts_baseline = createShifts(models[[1]], newdata, 
+         countries = countries, nsamples = 5000) 
+ 
+     return(results)
+ }

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.47 seconds (Sampling)
Chain 1:                0.56 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.52 seconds (Sampling)
Chain 1:                0.61 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.12 seconds (Warm-up)
Chain 1:                0.5 seconds (Sampling)
Chain 1:                0.62 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.53 seconds (Sampling)
Chain 1:                0.62 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.56 seconds (Sampling)
Chain 1:                0.65 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.53 seconds (Sampling)
Chain 1:                0.62 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.48 seconds (Sampling)
Chain 1:                0.57 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.53 seconds (Sampling)
Chain 1:                0.62 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.48 seconds (Sampling)
Chain 1:                0.57 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '348b021b70f1527d2bcef969870aaa9f' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 0.09 seconds (Warm-up)
Chain 1:                0.58 seconds (Sampling)
Chain 1:                0.67 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.29 seconds (Warm-up)
Chain 1:                13.22 seconds (Sampling)
Chain 1:                16.51 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.58 seconds (Warm-up)
Chain 1:                14.24 seconds (Sampling)
Chain 1:                17.82 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.58 seconds (Warm-up)
Chain 1:                15.24 seconds (Sampling)
Chain 1:                18.82 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.2 seconds (Warm-up)
Chain 1:                15.55 seconds (Sampling)
Chain 1:                18.75 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.31 seconds (Warm-up)
Chain 1:                17.43 seconds (Sampling)
Chain 1:                20.74 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.26 seconds (Warm-up)
Chain 1:                17.14 seconds (Sampling)
Chain 1:                20.4 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.21 seconds (Warm-up)
Chain 1:                15.31 seconds (Sampling)
Chain 1:                18.52 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.52 seconds (Warm-up)
Chain 1:                16.98 seconds (Sampling)
Chain 1:                20.5 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.35 seconds (Warm-up)
Chain 1:                16.66 seconds (Sampling)
Chain 1:                20.01 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 3.38 seconds (Warm-up)
Chain 1:                19.12 seconds (Sampling)
Chain 1:                22.5 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:    1 / 6000 [  0%]  (Warmup)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 1001 / 6000 [ 16%]  (Sampling)
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 16.41 seconds (Warm-up)
Chain 1:                59.64 seconds (Sampling)
Chain 1:                76.05 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 15.62 seconds (Warm-up)
Chain 1:                66.77 seconds (Sampling)
Chain 1:                82.39 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 17.77 seconds (Warm-up)
Chain 1:                67.59 seconds (Sampling)
Chain 1:                85.36 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 16.48 seconds (Warm-up)
Chain 1:                69.63 seconds (Sampling)
Chain 1:                86.11 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 16.79 seconds (Warm-up)
Chain 1:                66.7 seconds (Sampling)
Chain 1:                83.49 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 17.41 seconds (Warm-up)
Chain 1:                69.77 seconds (Sampling)
Chain 1:                87.18 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 17.02 seconds (Warm-up)
Chain 1:                68.82 seconds (Sampling)
Chain 1:                85.84 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 17.36 seconds (Warm-up)
Chain 1:                68.01 seconds (Sampling)
Chain 1:                85.37 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 16.2 seconds (Warm-up)
Chain 1:                67.91 seconds (Sampling)
Chain 1:                84.11 seconds (Total)
Chain 1: 
Chain 1: Iteration: 6000 / 6000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 16.33 seconds (Warm-up)
Chain 1:                72.57 seconds (Sampling)
Chain 1:                88.9 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)

SAMPLING FOR MODEL '2ffd3a423761020885f7facbfaadb275' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 14000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)
Chain 1: Iteration:  1001 / 14000 [  7%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration:  6000 / 14000 [ 42%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.74 seconds (Warm-up)
Chain 1:                22.38 seconds (Sampling)
Chain 1:                25.12 seconds (Total)
Chain 1: 
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.47 seconds (Warm-up)
Chain 1:                22.65 seconds (Sampling)
Chain 1:                25.12 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.21 seconds (Warm-up)
Chain 1:                22.49 seconds (Sampling)
Chain 1:                24.7 seconds (Total)
Chain 1: 
Chain 1: Iteration: 11000 / 14000 [ 78%]  (Sampling)
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.49 seconds (Warm-up)
Chain 1:                22.77 seconds (Sampling)
Chain 1:                25.26 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.43 seconds (Warm-up)
Chain 1:                23.07 seconds (Sampling)
Chain 1:                25.5 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.34 seconds (Warm-up)
Chain 1:                27.19 seconds (Sampling)
Chain 1:                29.53 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.33 seconds (Warm-up)
Chain 1:                22.91 seconds (Sampling)
Chain 1:                25.24 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.38 seconds (Warm-up)
Chain 1:                22.5 seconds (Sampling)
Chain 1:                24.88 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.68 seconds (Warm-up)
Chain 1:                25.28 seconds (Sampling)
Chain 1:                27.96 seconds (Total)
Chain 1: 
Chain 1: Iteration: 14000 / 14000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 2.47 seconds (Warm-up)
Chain 1:                22.41 seconds (Sampling)
Chain 1:                24.88 seconds (Total)
Chain 1: 

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)

SAMPLING FOR MODEL '05c8a00b4a404f2c3be0647201deafca' NOW (CHAIN 1).
Chain 1: 
Chain 1: Gradient evaluation took 0 seconds
Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0 seconds.
Chain 1: Adjust your expectations accordingly!
Chain 1: 
Chain 1: 
Chain 1: Iteration:     1 / 12000 [  0%]  (Warmup)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  1001 / 12000 [  8%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration:  6000 / 12000 [ 50%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 19.67 seconds (Warm-up)
Chain 1:                145.07 seconds (Sampling)
Chain 1:                164.74 seconds (Total)
Chain 1: 
Chain 1: Iteration: 11000 / 12000 [ 91%]  (Sampling)
[1] "::::::::: model 1 :::::::::"
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 19.43 seconds (Warm-up)
Chain 1:                141.26 seconds (Sampling)
Chain 1:                160.69 seconds (Total)
Chain 1: 
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 19.33 seconds (Warm-up)
Chain 1:                144.03 seconds (Sampling)
Chain 1:                163.36 seconds (Total)
Chain 1: 
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 19.66 seconds (Warm-up)
Chain 1:                144.1 seconds (Sampling)
Chain 1:                163.76 seconds (Total)
Chain 1: 
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 18.89 seconds (Warm-up)
Chain 1:                143.35 seconds (Sampling)
Chain 1:                162.24 seconds (Total)
Chain 1: 
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 1 :::::::::"
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 18 seconds (Warm-up)
Chain 1:                143.71 seconds (Sampling)
Chain 1:                161.71 seconds (Total)
Chain 1: 
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 20.06 seconds (Warm-up)
Chain 1:                144.31 seconds (Sampling)
Chain 1:                164.37 seconds (Total)
Chain 1: 
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 19.9 seconds (Warm-up)
Chain 1:                142.09 seconds (Sampling)
Chain 1:                161.99 seconds (Total)
Chain 1: 
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 1 :::::::::"
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 20.05 seconds (Warm-up)
Chain 1:                143.59 seconds (Sampling)
Chain 1:                163.64 seconds (Total)
Chain 1: 
Chain 1: Iteration: 12000 / 12000 [100%]  (Sampling)
Chain 1: 
Chain 1:  Elapsed Time: 20.65 seconds (Warm-up)
Chain 1:                146.37 seconds (Sampling)
Chain 1:                167.02 seconds (Total)
Chain 1: 
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 1 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 2 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 3 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 4 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
[1] "::::::::: model 5 :::::::::"
> 
> # stop clusters
> stopCluster(cl)
> 
> # extract results
> shifts = list()
> weights = list()
> nmodels = length(output[[1]]$models)
> for (i in seq_along(output)) {
+    shifts[[i]] = output[[i]][["shifts_stacking"]][["values"]]
+    weights[[i]] = output[[i]][["shifts_stacking"]][["weights"]]
+ }
> 
> shifts = rbindlist(shifts, idcol = "replicate")
> avg_weights = apply(do.call(rbind, weights), 2, mean)
> saveRDS(list("shifts" = shifts, "avg_weights" = avg_weights),
+     paste0(data_path, select_estimates, "shifts_stacking_no_error.rds"))
> 
> shifts = list()
> for (i in seq_along(output)) {
+    shifts[[i]] = output[[i]][["shifts_baseline"]][["values"]]
+ }
> shifts = rbindlist(shifts, idcol = "replicate")
> saveRDS(shifts,
+     paste0(data_path, select_estimates, "shifts_baseline_no_error.rds"))
> rm(shifts)
> slackr::slackr_msg(txt = paste0("LE no error saved shifts: ", Sys.time()))
> 
> model_list = list()
> lmodels = list()
> for (i in 1:nmodels) {  
+     for (h in 1:nimputations) {
+         lmodels[[h]] = output[[h]][["models"]][[i]]
+     }
+     model_list[[i]] = combine_models(mlist = lmodels, check_data = FALSE)
+     lmodels = list()
+ }
> rm(lmodels, output)
> 
> # create predicitive checks 
> countries = unique(idat$ctry)
> preferred_model = which.max(avg_weights)
> vars = c("ctry", "ctry50", "ctryear", "zyear", "year1950")
> 
> # stacking
> pred = rlang::invoke(pp_average, model_list, weights = avg_weights, 
+     newdata = idat, summary = TRUE, nsamples = 5000)
> 
> plots_checks = prediction_check_plots(pred, idat, countries, vars, 
+     y = "ex_mean", x = "year", 
+     xlab = "\nYear", ylab = "Average life expectancy at age 0\n",
+     transform = TRUE, 
+     country_labels = country_labs)
> savepdf(paste0(plots_path, select_estimates, "fit_no_error_stacking"))
>     print(plots_checks)
[[1]]

[[2]]

[[3]]

[[4]]

[[5]]

[[6]]

[[7]]

[[8]]

[[9]]

[[10]]

[[11]]

[[12]]

[[13]]

[[14]]

[[15]]

[[16]]

[[17]]

[[18]]

[[19]]

> dev.off()
null device 
          1 
> file.copy(paste0(plots_path, select_estimates, "fit_no_error_stacking.pdf"), 
+     manus_plots, recursive = TRUE)    
[1] TRUE
> rm(pred, plots_checks)
> 
> # baseline model
> pred = predict(model_list[[1]], newdata = idat, summary = TRUE)
> plots_checks = prediction_check_plots(pred, idat, countries, 
+     vars,  y = "ex_mean", x = "year", 
+     xlab = "\nYear", ylab = "Average life expectancy at age 0\n",
+     transform = TRUE, 
+     country_labels = country_labs)
> savepdf(paste0(plots_path, select_estimates, "fit_no_error_baseline_model"))
>     print(plots_checks)
[[1]]

[[2]]

[[3]]

[[4]]

[[5]]

[[6]]

[[7]]

[[8]]

[[9]]

[[10]]

[[11]]

[[12]]

[[13]]

[[14]]

[[15]]

[[16]]

[[17]]

[[18]]

[[19]]

> dev.off()
null device 
          1 
> file.copy(paste0(plots_path, select_estimates, "fit_no_error_baseline_model.pdf"), 
+     manus_plots, recursive = TRUE)    
[1] TRUE
> rm(pred, plots_checks)
> 
> # preferred model 
> pred = predict(model_list[[preferred_model]], newdata = idat, summary = TRUE)
> plots_checks = prediction_check_plots(pred, idat, countries, 
+     vars,  y = "ex_mean", x = "year", 
+     xlab = "\nYear", ylab = "Average life expectancy at age 0\n", 
+     transform = TRUE, 
+     country_labels = country_labs)
> savepdf(paste0(plots_path, select_estimates, "fit_no_error_preferred_model"))
>     print(plots_checks)
[[1]]

[[2]]

[[3]]

[[4]]

[[5]]

[[6]]

[[7]]

[[8]]

[[9]]

[[10]]

[[11]]

[[12]]

[[13]]

[[14]]

[[15]]

[[16]]

[[17]]

[[18]]

[[19]]

> dev.off()
null device 
          1 
> file.copy(paste0(plots_path, select_estimates, "fit_no_error_preferred_model.pdf"), 
+     manus_plots, recursive = TRUE)    
[1] TRUE
> rm(pred, plots_checks)
> 
> # table
> tabs = list()
> for (i in seq_along(model_list)) {
+     print(paste0("Extracting model ", i))
+     tabs[[i]] = extractBRMS(model_list[[1]], r2 = TRUE, weight = avg_weights[i])
+     model_list[[1]] = NULL
+ }
[1] "Extracting model 1"
[1] "Extracting model 2"
[1] "Extracting model 3"
[1] "Extracting model 4"
[1] "Extracting model 5"
> saveRDS(tabs, paste0(data_path, select_estimates, "tab_no_error.rds"))
> 
> cnames = paste0("Model ", 1:nmodels)
> custom_coeff_map = list(Intercept = "Constant", "log_gdp" = "Log GDP", year19501950P = "1950+", 
+     "log_gdp:year19501950P" = "Log GDP x 1950+")
> # "zyear" = "Year (standardized)"
> 
> caption = paste0("Models for LE and log GPD no measurement error, ", 
+     nimputations, " imputations")
> 
> texreg(tabs,
+     caption = caption, 
+     custom.model.names = cnames, 
+     custom.coef.map = custom_coeff_map,
+     label = paste0("tab:", select_estimates,"ex_no_error"),
+     scalebox = 0.7,
+     center = TRUE,
+     dcolumn = TRUE, 
+     use.packages = FALSE, 
+     threeparttable = TRUE, 
+     caption.above = TRUE, 
+     file = paste0(tables_path, select_estimates, "models_no_error.tex")
+ )
> file.copy(paste0(tables_path, select_estimates, "models_no_error.tex"), manus_tables, 
+         recursive = TRUE)
[1] TRUE
> 
> # send message to slack
> slackr::slackr_msg(txt = paste0("LE models no error finished at: ", Sys.time()))
> 
